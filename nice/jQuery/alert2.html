<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>测试1</title>
<script src="js/jquery-1.9.1.min.js" type="text/javascript"></script>
</head>

<body style="height: 3000px;">
<div id="app">
	<button id="btn">弹窗</button>



    <!--弹窗start-->
	<div class="messageBox">
		<div class="bg"></div>
		<div class="message">
				本站所有资源仅供学习与参考，请勿用于商业用途，否则产生的一切后果将由您自己承担！
				本站提供的普通下载点可能造成多线程类的软件无法下载，建议直接点击或另存为下载！
				如有侵犯您的版权，请及时联系168660460#qq.com(#换@)，我们将尽快处理。
				本站所有资源仅供学习与参考，请勿用于商业用途，否则产生的一切后果将由您自己承担！
本站提供的普通下载点可能造成多线程类的软件无法下载，建议直接点击或另存为下载！
如有侵犯您的版权，请及时联系168660460#qq.com(#换@)，我们将尽快处理。
		</div>
	</div>
	<!--弹窗end-->

<span>11111</span>

</div>

<style>
@import 'css/messageBox.css';
</style>



<script>

x=0;
$(window).resize(function() {
  var screenHeight = $(window).height();
  $("span").text(screenHeight);
});







//初始化弹框的样式
if($('.messageBox').hasClass('messageBox')){
	var divHeight = $('.messageBox .message').outerWidth();
	var screenHeight = $(window).height();
	if(screenHeight>divHeight){
		var needHeight = (screenHeight - divHeight)/2 + 30
	}else{
		var needHeight = 0;
	}
    $('.messageBox .message').css('top',-divHeight)
}

//点击按钮弹窗
$('#btn').click(function(){
	$('.messageBox').show();
	//console.log(screenHeight);
	//console.log(divHeight);
	//$('.messageBox .message').animate({top:divHeight+"px"});
	$('.messageBox .message').animate({top:needHeight+"px"});
})



//关闭弹窗
$('.messageBox .bg').click(function(e){
	 $(".messageBox").hide();
	 $('.messageBox .message').css('top','0')
})
$('.messageBox .message').click(function(e){
	 e.stopPropagation;
})
</script>
</body>
</html>
